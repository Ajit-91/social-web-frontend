(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(38),r=n.n(s),i=n(25),o=n(50),l=n(102),j=Object(l.b)({name:"user",initialState:{user:null},reducers:{SET_USER:function(e,t){e.user=t.payload},LOGOUT:function(e){e.user=null,localStorage.removeItem("user")}}}),u=j.actions,d=u.SET_USER,b=u.LOGOUT,O=function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.user},p=j.reducer,h=Object(l.a)({reducer:{user:p}}),x=n(18),m=n.n(x),v=n(21),f=n(5),g=(n(165),n(13)),w=n(6),y=n(4),S=n(220),N=n(239),k=n(222),C=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,console.log("user : "+t),e.next=5,fetch("".concat("https://social-web-apis.cyclic.app","/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,e.next=8,n.json();case 8:if(c=e.sent,200!==n.status){e.next=13;break}return e.abrupt("return",c);case 13:return console.log(c),e.abrupt("return",c);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("https://social-web-apis.cyclic.app"),e.prev=1,e.next=4,fetch("".concat("https://social-web-apis.cyclic.app","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return n=e.sent,e.next=7,n.json();case 7:if(c=e.sent,201!==n.status){e.next=12;break}return e.abrupt("return",c);case 12:return console.log(c),e.abrupt("return",c);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.cyclic.app","/api/fetchUser/").concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",c);case 11:console.log(c);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(m.a.mark((function e(t,n){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.cyclic.app","/api/updateprofile/").concat(n),{method:"PUT",body:t});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,200!==c.status){e.next=11;break}return e.abrupt("return",a);case 11:console.log(a);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(m.a.mark((function e(t,n){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.cyclic.app","/api/followOrUnfollow/follower/").concat(t,"/followingTo/").concat(n),{method:"PUT"});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,200!==c.status){e.next=11;break}return e.abrupt("return",a);case 11:return console.log(a),alert("process failed"),e.abrupt("return",a);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),alert("process failed");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),B=n(226),T=n(233),L=n(231),E=n(2),R=a.a.forwardRef((function(e,t){return Object(E.jsx)(L.a,Object(y.a)({elevation:6,ref:t,variant:"filled"},e))})),z=function(e){var t=e.msg,n=e.type,c=e.open,a=e.setOpen,s=function(e,t){"clickaway"!==t&&a(!1)};return Object(E.jsx)(T.a,{open:c,autoHideDuration:3e3,onClose:s,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(E.jsx)(R,{onClose:s,severity:n,sx:{width:"100%"},children:t})})},U=n(223),_=function(){var e=Object(i.b)(),t=Object(c.useState)({email:"",password:""}),n=Object(f.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!1),l=Object(f.a)(r,2),j=l[0],u=l[1],b=Object(c.useState)(""),O=Object(f.a)(b,2),p=O[0],h=O[1],x=Object(c.useState)(""),g=Object(f.a)(x,2),C=g[0],P=g[1],F=Object(c.useState)(!1),D=Object(f.a)(F,2),T=D[0],L=D[1],R=function(e){var t=e.target,n=t.name,c=t.value;s((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},n,c))}))},_=function(){var t=Object(v.a)(m.a.mark((function t(n){var c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),L(!0),(null===a||void 0===a?void 0:a.email)&&(null===a||void 0===a?void 0:a.password)){t.next=8;break}return h("One or more fields are required"),P("warning"),u(!0),L(!1),t.abrupt("return");case 8:return t.next=10,I(a);case 10:"success"===(null===(c=t.sent)||void 0===c?void 0:c.msg)?(localStorage.setItem("user",JSON.stringify(null===c||void 0===c||null===(s=c.resp)||void 0===s?void 0:s._id)),e(d(null===c||void 0===c?void 0:c.resp)),L(!1)):"success"===(null===c||void 0===c?void 0:c.msg)||(null===c||void 0===c?void 0:c.resp)?(h("something went wrong"),P("error"),u(!0),L(!1)):(h("".concat(null===c||void 0===c?void 0:c.msg)),P("info"),u(!0),L(!1));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(S.a,{className:"formContainer",children:[Object(E.jsx)(z,{open:j,setOpen:u,type:C,msg:p}),Object(E.jsx)(N.a,{className:"bg-white shadow-lg formCard ",children:Object(E.jsxs)(N.a.Body,{children:[Object(E.jsxs)("form",{id:"registerForm",onSubmit:_,children:[Object(E.jsx)("p",{className:"text-muted text-center m-0",children:"Login"}),Object(E.jsx)(B.a,{label:"Email",fullWidth:!0,margin:"normal",variant:"outlined",name:"email",value:a.email,onChange:R}),Object(E.jsx)(B.a,{label:"Password",fullWidth:!0,margin:"normal",type:"password",variant:"outlined",name:"password",value:a.password,onChange:R}),Object(E.jsxs)(k.a,{variant:"outline-primary",type:"submit",className:"mt-3 align-tems-center",disabled:T,children:[T&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(U.a,{as:"span",animation:"border",style:{borderWidth:"2px"},size:"sm",role:"status","aria-hidden":"true"}),"\xa0"]}),"Login"]}),Object(E.jsx)("br",{})]}),Object(E.jsxs)("div",{className:"text-center",children:[Object(E.jsx)("p",{className:"text-muted",children:"Don't have Account ?"}),Object(E.jsx)(o.b,{to:"/register",className:"text-muted",children:"Register"})]})]})})]})})},J=(n(168),function(){var e=Object(i.b)(),t=Object(c.useState)({name:"",email:"",password:"",course:"",college:""}),n=Object(f.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!1),l=Object(f.a)(r,2),j=l[0],u=l[1],b=Object(c.useState)(""),O=Object(f.a)(b,2),p=O[0],h=O[1],x=Object(c.useState)(""),g=Object(f.a)(x,2),I=g[0],P=g[1],F=Object(c.useState)(!1),D=Object(f.a)(F,2),T=D[0],L=D[1],R=function(e){var t=e.target,n=t.name,c=t.value;s((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},n,c))}))},_=function(){var t=Object(v.a)(m.a.mark((function t(n){var c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),L(!0),(null===a||void 0===a?void 0:a.name)&&(null===a||void 0===a?void 0:a.email)&&(null===a||void 0===a?void 0:a.password)&&(null===a||void 0===a?void 0:a.college)&&(null===a||void 0===a?void 0:a.course)){t.next=8;break}return h("One or more fields are required"),P("warning"),u(!0),L(!1),t.abrupt("return");case 8:return t.next=10,C(a);case 10:"success"===(null===(c=t.sent)||void 0===c?void 0:c.msg)?(localStorage.setItem("user",JSON.stringify(null===c||void 0===c||null===(s=c.resp)||void 0===s?void 0:s._id)),e(d(null===c||void 0===c?void 0:c.resp)),L(!1)):"success"===(null===c||void 0===c?void 0:c.msg)||(null===c||void 0===c?void 0:c.resp)?(h("something went wrong"),P("error"),u(!0),L(!1)):(h("".concat(null===c||void 0===c?void 0:c.msg)),P("info"),u(!0),L(!1));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(z,{open:j,setOpen:u,type:I,msg:p}),Object(E.jsx)(S.a,{className:"formContainer",children:Object(E.jsx)(N.a,{className:"bg-white shadow-lg formCard ",children:Object(E.jsxs)(N.a.Body,{children:[Object(E.jsxs)("form",{id:"registerForm",onSubmit:_,children:[Object(E.jsx)("p",{className:"text-muted text-center",children:"Register"}),Object(E.jsx)(B.a,{label:"Name *",fullWidth:!0,margin:"normal",variant:"outlined",name:"name",value:a.name,onChange:R}),Object(E.jsx)(B.a,{label:"Email *",fullWidth:!0,margin:"normal",variant:"outlined",name:"email",value:a.email,onChange:R}),Object(E.jsx)(B.a,{label:"Password *",fullWidth:!0,margin:"normal",type:"password",variant:"outlined",name:"password",value:a.password,onChange:R}),Object(E.jsx)(B.a,{label:"College *",fullWidth:!0,margin:"normal",variant:"outlined",name:"college",value:a.college,onChange:R}),Object(E.jsx)(B.a,{label:"Course *",fullWidth:!0,margin:"normal",variant:"outlined",name:"course",value:a.course,onChange:R}),Object(E.jsxs)(k.a,{variant:"outline-primary",type:"submit",className:"mt-3 align-tems-center",disabled:T,children:[T&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(U.a,{as:"span",animation:"border",style:{borderWidth:"2px"},size:"sm",role:"status","aria-hidden":"true"}),"\xa0"]}),"Register"]}),Object(E.jsx)("br",{})]}),Object(E.jsxs)("div",{className:"text-center ",children:[Object(E.jsx)("p",{className:"text-muted",children:"Already have Account ?"}),Object(E.jsx)(o.b,{to:"/login",children:" Login "})]})]})})})]})}),H=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(g.d,{children:[Object(E.jsx)(g.b,{path:"/login",element:Object(E.jsx)(_,{})}),Object(E.jsx)(g.b,{path:"/register",element:Object(E.jsx)(J,{})}),Object(E.jsx)(g.b,{path:"*",element:Object(E.jsx)(g.a,{to:"/login"})})]})})},A=n(228),W=n(227),G=n(236),q=n(96),M=n(97),Y=n(240),K=n(234),Q=n(224),V=n(242),X=n(232),Z=n(241),$=n(219);n(169);function ee(e){var t=e.setShow,n=Object(i.b)(),c=Object(g.g)(),a=Object(i.c)(O);return Object(E.jsx)($.a,{onClickAway:function(){t(!1)},children:Object(E.jsx)("div",{className:"navList shadow-lg",children:Object(E.jsxs)(Y.a,{children:[Object(E.jsx)(K.a,{disablePadding:!0,children:Object(E.jsx)(Q.a,{className:"User_Info",children:Object(E.jsxs)("div",{children:[Object(E.jsx)("h5",{children:null===a||void 0===a?void 0:a.name}),Object(E.jsx)("small",{children:null===a||void 0===a?void 0:a.email})]})})}),Object(E.jsx)(Z.a,{}),Object(E.jsx)(K.a,{disablePadding:!0,children:Object(E.jsxs)(Q.a,{onClick:function(){return c("/profile/".concat(JSON.parse(localStorage.getItem("user"))))},children:[Object(E.jsx)(V.a,{children:Object(E.jsx)(q.b,{})}),Object(E.jsx)(X.a,{primary:"Profile"})]})}),Object(E.jsx)(K.a,{disablePadding:!0,children:Object(E.jsxs)(Q.a,{onClick:function(){return n(b())},children:[Object(E.jsx)(V.a,{children:Object(E.jsx)(M.b,{})}),Object(E.jsx)(X.a,{primary:"Logout"})]})})]})})})}n(170);function te(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(i.c)(O);return Object(E.jsx)("div",{id:"nav",children:Object(E.jsx)(A.a,{children:Object(E.jsxs)(S.a,{fluid:"lg",className:"navSubCont",children:[n&&Object(E.jsx)(ee,{setShow:a}),Object(E.jsx)(A.a.Brand,{className:"brand",children:Object(E.jsx)(o.c,{exact:"".concat(!0),to:"/",children:Object(E.jsx)("img",{src:"https://static.vecteezy.com/system/resources/previews/000/348/244/original/sharing-vector-icon.jpg",alt:"logo",style:{width:"60px",marginRight:"1rem",borderRadius:"10px"}})})}),Object(E.jsxs)(W.a,{className:"linkContainer",children:[Object(E.jsx)(o.c,{exact:"".concat(!0),to:"/",children:"HOME"}),Object(E.jsx)(o.c,{exact:"".concat(!0),to:"/myPosts/".concat(null===s||void 0===s?void 0:s._id),children:"MY POSTS"}),Object(E.jsx)("section",{className:"userInfo",onClick:function(){return a((function(e){return!e}))},children:Object(E.jsx)(G.a,{src:null===s||void 0===s?void 0:s.profileImg})})]})]})})})}var ne=n(131),ce=n(238),ae=function(e){var t=new Date(e);return t=t.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})},se=n(29),re=function(){var e=Object(v.a)(m.a.mark((function e(t,n){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.cyclic.app","/api/createpost/").concat(n),{method:"POST",body:t});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,200!==c.status){e.next=11;break}return e.abrupt("return",a);case 11:return console.log(a),e.abrupt("return",a);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(v.a)(m.a.mark((function e(t,n,c){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.cyclic.app","/api/post/").concat(n,"/comment/").concat(c),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:if(s=e.sent,200!==a.status){e.next=11;break}return e.abrupt("return",s);case 11:return console.log(s),e.abrupt("return",s);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,c){return e.apply(this,arguments)}}(),oe=function(){var e=Object(v.a)(m.a.mark((function e(t,n){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.cyclic.app","/api/post/").concat(t,"/like/").concat(n),{method:"PUT"});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,200!==c.status){e.next=11;break}return e.abrupt("return",a);case 11:return console.log(a),e.abrupt("return",a);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.cyclic.app","/api/fetchUserPosts/").concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",c);case 11:return console.log(c),e.abrupt("return",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.cyclic.app","/api/fetchAllPosts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",c);case 11:return console.log(c),e.abrupt("return",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.cyclic.app","/api/fetchSinglePost/").concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",c);case 11:return console.log(c),e.abrupt("return",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),de=n(230),be=n(243),Oe=n(134),pe=n(135),he=function(e){var t=e.showShareLink,n=e.setShowShareLink,a=e.postDetails,s=Object(c.useState)(!1),r=Object(f.a)(s,2),i=r[0],o=r[1],l=Object(c.useState)(!1),j=Object(f.a)(l,2),u=j[0],d=j[1],b=Object(c.useState)(""),O=Object(f.a)(b,2),p=O[0],h=O[1],x=Object(c.useState)(""),m=Object(f.a)(x,2),v=m[0],g=m[1],w=Object(c.useRef)();return Object(E.jsxs)("div",{children:[Object(E.jsx)(z,{open:u,setOpen:d,type:v,msg:p}),Object(E.jsxs)(de.a,{centered:!0,size:"md",show:t,onHide:function(){n(!1)},children:[Object(E.jsx)(de.a.Header,{children:"Copy Link to share"}),Object(E.jsx)(de.a.Body,{children:Object(E.jsxs)(be.a,{children:[Object(E.jsx)(Oe.a,{disabled:!0,ref:w,value:"".concat("https://ajit-91.github.io/social-web-frontend#","/singlePost/").concat(null===a||void 0===a?void 0:a._id)}),Object(E.jsx)(be.a.Text,{style:{cursor:"pointer"},onClick:function(){var e,t,n,c,a;if(null===w||void 0===w||null===(e=w.current)||void 0===e||e.select(),null===w||void 0===w||null===(t=w.current)||void 0===t||t.setSelectionRange(0,99999),void 0===(null===(n=navigator)||void 0===n?void 0:n.clipboard))return h("Something went wrong"),g("error"),void d(!0);null===(c=navigator)||void 0===c||null===(a=c.clipboard)||void 0===a||a.writeText(w.current.value),o(!0),h("Successfully Copied"),g("success"),d(!0),setTimeout((function(){o(!1)}),3e3)},children:i?Object(E.jsx)(pe.a,{}):Object(E.jsx)(se.c,{})})]})})]})]})},xe=(n(126),function(e){var t,n,a=e.postDetails,s=e.reloadFun,r=Object(c.useState)(),i=Object(f.a)(r,2),o=i[0],l=i[1],j=Object(c.useState)(!1),u=Object(f.a)(j,2),d=u[0],b=u[1];Object(c.useEffect)((function(){var e,t;l(null===a||void 0===a||null===(e=a.likes)||void 0===e||null===(t=e.likedBy)||void 0===t?void 0:t.includes(JSON.parse(localStorage.getItem("user"))))}),[a]);var O=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(null===a||void 0===a?void 0:a._id,JSON.parse(localStorage.getItem("user")));case 2:return t=e.sent,console.log("like",t),e.next=6,s();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(he,{showShareLink:d,setShowShareLink:b,postDetails:a}),Object(E.jsxs)("div",{className:"postInfo",children:[Object(E.jsxs)("div",{onClick:O,children:[o?Object(E.jsx)(ce.a,{color:"inherit",className:"iconButton",children:Object(E.jsx)(se.f,{size:"30px",color:"red"})}):Object(E.jsx)(ce.a,{color:"inherit",className:"iconButton",children:Object(E.jsx)(se.g,{size:"30px"})}),Object(E.jsxs)("span",{children:["\xa0",null===a||void 0===a||null===(t=a.likes)||void 0===t?void 0:t.likeCount]})]}),Object(E.jsxs)("div",{className:"mx-4",children:[Object(E.jsx)(se.b,{size:"30px"}),Object(E.jsxs)("span",{children:["\xa0",null===a||void 0===a||null===(n=a.comments)||void 0===n?void 0:n.length]})]}),Object(E.jsx)("div",{className:"share",children:Object(E.jsx)(ce.a,{color:"inherit",className:"iconButton",onClick:function(){return b(!0)},children:Object(E.jsx)(se.i,{size:"30px"})})})]})]})}),me=function(e){var t,n,c=e.postDetails,a=e.reloadFun,s=Object(g.g)();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(N.a,{className:"shadow-lg postCard",children:[Object(E.jsxs)(N.a.Header,{className:"header bg-light",children:[Object(E.jsx)(ce.a,{color:"inherit",className:"iconButton",onClick:function(){var e;return s("/profile/".concat(null===c||void 0===c||null===(e=c.creator)||void 0===e?void 0:e._id))},children:Object(E.jsx)(G.a,{src:null===c||void 0===c||null===(t=c.creator)||void 0===t?void 0:t.profileImg})}),Object(E.jsxs)("div",{className:"headerInfo",children:[Object(E.jsx)("h6",{children:null===c||void 0===c||null===(n=c.creator)||void 0===n?void 0:n.name}),Object(E.jsx)("small",{children:ae(null===c||void 0===c?void 0:c.date)})]})]}),(null===c||void 0===c?void 0:c.postImg)&&Object(E.jsx)(ne.a,{src:null===c||void 0===c?void 0:c.postImg,className:"postImg",onClick:function(){return s("/singlePost/".concat(null===c||void 0===c?void 0:c._id))},style:{cursor:"pointer"}}),Object(E.jsx)(N.a.Body,{onClick:function(){return s("/singlePost/".concat(null===c||void 0===c?void 0:c._id))},style:{cursor:"pointer"},children:Object(E.jsx)("p",{className:"postDescrption",style:{whiteSpace:"".concat((null===c||void 0===c?void 0:c.postImg)?"nowrap":"normal")},children:null===c||void 0===c?void 0:c.description})}),Object(E.jsx)(N.a.Footer,{className:"bg-white ",children:Object(E.jsx)(xe,{postDetails:c,reloadFun:a})})]})})},ve=n(225),fe=n(136),ge=n(244),we=function(){return Object(E.jsx)("div",{style:{position:"absolute",top:"50%",right:"50%",transform:"translate(50%, -50%)"},children:Object(E.jsx)(ge.a,{size:60,thickness:3})})},ye=(n(174),function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!0),r=Object(f.a)(s,2),i=r[0],o=r[1],l=Object(c.useCallback)(Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(JSON.parse(localStorage.getItem("user")));case 2:t=e.sent,a(t),o(!1);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(c.useEffect)((function(){l()}),[l]),i?Object(E.jsx)(we,{}):Object(E.jsx)(S.a,{children:Object(E.jsx)(ve.a,{className:"main",children:Object(E.jsx)(fe.a,{lg:7,children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(E.jsxs)("div",{children:[Object(E.jsx)(me,{postDetails:e,reloadFun:l}),Object(E.jsx)("br",{})]},t)}))})})})}),Se=n(229),Ne=(n(175),function(e,t){var n=e.setPreviewImage,c=e.setImgDetails;return Object(E.jsx)("div",{children:Object(E.jsx)("input",{type:"file",hidden:!0,accept:"image/*",ref:t,onChange:function(e){var t=e.target.files[0];if(t){c(t);var a=new FileReader;a.readAsDataURL(t),a.onload=function(){n(a.result)},a.onerror=function(e){console.log(e)}}}})})}),ke=Object(c.forwardRef)(Ne),Ce=n(137),Ie=(n(176),function(e){var t=e.createPostStatus,n=e.setCreatePostStatus,a=Object(c.useRef)(null),s=Object(i.b)(),r=Object(c.useState)(""),o=Object(f.a)(r,2),l=o[0],j=o[1],u=Object(c.useState)(null),b=Object(f.a)(u,2),O=b[0],p=b[1],h=Object(c.useState)(),x=Object(f.a)(h,2),g=x[0],w=x[1],y=Object(c.useState)(!1),S=Object(f.a)(y,2),C=S[0],I=S[1],P=Object(c.useState)(!1),F=Object(f.a)(P,2),D=F[0],B=F[1],T=Object(c.useState)(""),L=Object(f.a)(T,2),R=L[0],_=L[1],J=Object(c.useState)(""),H=Object(f.a)(J,2),A=H[0],W=H[1],G=Object(c.useState)(!1),M=Object(f.a)(G,2),Y=M[0],K=M[1],Q=function(){j(""),w(""),p(""),I(!1),n(!1)},V=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),K(!0),g){e.next=8;break}return _("One or more fields are required"),W("warning"),B(!0),K(!1),e.abrupt("return");case 8:return(n=new FormData).append("description",g),O&&n.append("postImg",O),e.next=13,re(n,JSON.parse(localStorage.getItem("user")));case 13:"success"===(null===(c=e.sent)||void 0===c?void 0:c.msg)?(console.log(c),s(d(c.resp)),_("Added a post"),W("success"),B(!0),K(!1),Q()):(_("Something Went wrong"),W("error"),B(!0),K(!1));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(z,{open:D,setOpen:B,type:A,msg:R}),Object(E.jsxs)(de.a,{size:"lg",centered:!0,show:t,onHide:Q,children:[Object(E.jsx)(de.a.Header,{closeButton:!0,children:"Create Post"}),Object(E.jsx)(de.a.Body,{children:Object(E.jsx)(N.a,{className:" py-3 rightCard mb-5",children:Object(E.jsx)(N.a.Body,{children:Object(E.jsxs)(Se.a,{onSubmit:V,children:[l?Object(E.jsx)("div",{className:"previewImg ",children:Object(E.jsx)(N.a.Img,{src:l})}):Object(E.jsx)("div",{className:"uploadImg",onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),I(!0)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),I(!1)},onDragOver:function(e){return e.preventDefault(),e.stopPropagation(),!1},onDrop:function(e){e.stopPropagation(),e.preventDefault(),console.log(e),console.log(e.dataTransfer.files[0]);var t=e.dataTransfer.files[0];if(t){p(t);var n=new FileReader;n.readAsDataURL(t),n.onload=function(){j(n.result)},n.onerror=function(e){console.log(e)}}},children:C?Object(E.jsx)("h4",{className:"text-muted",children:"Release to Upload File"}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(q.a,{size:90,color:"#0d6efd"}),Object(E.jsx)("p",{children:"Drag & Drop to Upload Image"}),Object(E.jsx)("p",{children:"OR"}),Object(E.jsx)(k.a,{onClick:function(){return a.current.click()},children:"Browse File"})]})}),Object(E.jsx)(ke,{ref:a,setPreviewImage:j,setImgDetails:p}),Object(E.jsx)(ve.a,{children:Object(E.jsx)(Se.a.Group,{className:"my-3",controlId:"exampleForm.ControlTextarea1",children:Object(E.jsx)(Se.a.Control,{as:"textarea",placeholder:"What's in your mind",rows:5,className:"aboutSection",name:"post",value:g,onChange:function(e){return w(e.target.value)}})})}),Object(E.jsx)(k.a,{type:"submit",variant:"outline-primary",className:"d-flex align-items-center postbtn",disabled:Y,children:Y?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(U.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\xa0Creating..."]}):Object(E.jsxs)(E.Fragment,{children:["Post \xa0",Object(E.jsx)(Ce.a,{size:20})]})})]})})})})]})]})}),Pe=n(245),Fe=(n(177),function(){var e=Object(g.h)(),t=Object(c.useState)(!1),n=Object(f.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),i=Object(f.a)(r,2),o=i[0],l=i[1],j=Object(c.useState)(!0),u=Object(f.a)(j,2),d=u[0],b=u[1],O=Object(c.useCallback)(Object(v.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le(e.userId);case 2:n=t.sent,l(n),b(!1);case 5:case"end":return t.stop()}}),t)}))),[e.userId]);return Object(c.useEffect)((function(){O()}),[O,a]),d?Object(E.jsx)(we,{}):Object(E.jsxs)("div",{className:"main",children:[Object(E.jsx)(Ie,{createPostStatus:a,setCreatePostStatus:s}),Object(E.jsxs)(S.a,{className:"mb-5  position-relative",children:[(null===e||void 0===e?void 0:e.userId)===JSON.parse(localStorage.getItem("user"))&&Object(E.jsx)(Pe.a,{color:"primary",className:"createPostBtn",onClick:function(){return s(!0)},children:Object(E.jsx)(se.a,{size:25})}),0===(null===o||void 0===o?void 0:o.length)?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"noPosts",children:[Object(E.jsx)("h2",{children:"You don't have any posts yet"}),Object(E.jsx)("h3",{children:"Start creating"})]})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ve.a,{className:"gy-4",children:null===o||void 0===o?void 0:o.map((function(e,t){return Object(E.jsx)(fe.a,{lg:6,children:Object(E.jsx)(me,{postDetails:e,reloadFun:O})},t)}))})})]})]})}),De=(n(89),function(e){var t=e.userDetails,n=e.setUpdateProfile;return Object(E.jsx)("div",{children:Object(E.jsxs)(N.a,{className:"shadow-lg py-3 rightCard mb-5",children:[Object(E.jsx)(N.a.Header,{className:"bg-white",children:Object(E.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["PROFILE DETAILS",(null===t||void 0===t?void 0:t._id)===JSON.parse(localStorage.getItem("user"))&&Object(E.jsx)(ce.a,{color:"inherit",onClick:function(){return n(!0)},children:Object(E.jsx)(M.a,{size:25,style:{cursor:"pointer"}})})]})}),Object(E.jsxs)(N.a.Body,{children:[Object(E.jsxs)(ve.a,{children:[Object(E.jsx)("h2",{children:"About Me"}),Object(E.jsx)("p",{children:null===t||void 0===t?void 0:t.bio})]}),Object(E.jsxs)(ve.a,{className:"mb-4 mt-4",children:[Object(E.jsx)(fe.a,{lg:3,children:Object(E.jsx)("h5",{children:"Name"})}),Object(E.jsx)(fe.a,{lg:9,children:Object(E.jsx)("div",{className:"bg-light p-2",children:null===t||void 0===t?void 0:t.name})})]}),Object(E.jsxs)(ve.a,{className:"mb-4",children:[Object(E.jsx)(fe.a,{lg:3,children:Object(E.jsx)("h5",{children:"Email"})}),Object(E.jsx)(fe.a,{lg:9,children:Object(E.jsx)("div",{className:"bg-light p-2",children:null===t||void 0===t?void 0:t.email})})]}),Object(E.jsxs)(ve.a,{className:"mb-4",children:[Object(E.jsx)(fe.a,{lg:3,children:Object(E.jsx)("h5",{children:"Course"})}),Object(E.jsx)(fe.a,{lg:9,children:Object(E.jsx)("div",{className:"bg-light p-2",children:null===t||void 0===t?void 0:t.course})})]}),Object(E.jsxs)(ve.a,{className:"mb-4",children:[Object(E.jsx)(fe.a,{lg:3,children:Object(E.jsx)("h5",{children:"College"})}),Object(E.jsx)(fe.a,{lg:9,children:Object(E.jsx)("div",{className:"bg-light p-2",children:null===t||void 0===t?void 0:t.college})})]})]})]})})}),Be=function(e){var t=e.showList,n=e.setShowList,c=e.list,a=e.listType,s=Object(g.g)(),r=function(){n(!1)};return Object(E.jsx)("div",{children:Object(E.jsxs)(de.a,{centered:!0,size:"sm",show:t,onHide:r,children:[Object(E.jsx)(de.a.Header,{closeButton:!0,children:a}),Object(E.jsx)(de.a.Body,{className:"pb-0",children:null===c||void 0===c?void 0:c.map((function(e,t){var n;return Object(E.jsxs)("div",{className:"follwrsRow",children:[Object(E.jsxs)(ve.a,{children:[Object(E.jsx)(fe.a,{xs:2,style:{paddingRight:0},children:Object(E.jsx)(G.a,{src:null===e||void 0===e?void 0:e.profileImg,style:{cursor:"pointer"},onClick:function(){r(),s("/profile/".concat(null===e||void 0===e?void 0:e._id))}})}),Object(E.jsx)(fe.a,{xs:10,style:{paddingLeft:0},children:Object(E.jsxs)("div",{className:"follwrInfo",children:[Object(E.jsx)("p",{children:null===e||void 0===e?void 0:e.name}),Object(E.jsxs)("small",{children:[null===e||void 0===e||null===(n=e.followers)||void 0===n?void 0:n.length," Followers"]})]})})]}),Object(E.jsx)("hr",{})]},t)}))})]})})},Te=function(e){var t,n,a=e.userDetails,s=e.setReload,r=Object(c.useState)(),i=Object(f.a)(r,2),o=i[0],l=i[1],j=Object(c.useState)(!1),u=Object(f.a)(j,2),d=u[0],b=u[1],O=Object(c.useState)([]),p=Object(f.a)(O,2),h=p[0],x=p[1],w=Object(c.useState)(""),y=Object(f.a)(w,2),S=y[0],C=y[1],I=Object(g.g)(),P=Object(c.useState)(!1),F=Object(f.a)(P,2),B=F[0],T=F[1];Object(c.useEffect)((function(){var e;l(null===a||void 0===a||null===(e=a.followers)||void 0===e?void 0:e.find((function(e){return e._id===JSON.parse(localStorage.getItem("user"))})))}),[a,o]);var L=function(){var e=Object(v.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t=JSON.parse(localStorage.getItem("user")),n=null===a||void 0===a?void 0:a._id,e.next=5,D(t,n);case 5:l((function(e){return!e})),s((function(e){return!e})),T(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Be,{showList:d,setShowList:b,list:h,listType:S}),Object(E.jsx)(N.a,{className:"shadow-lg py-3 leftCard",children:Object(E.jsx)(N.a.Body,{children:Object(E.jsxs)(ve.a,{className:"gy-3",children:[Object(E.jsxs)(fe.a,{className:"imgRow",children:[Object(E.jsx)(G.a,{src:null===a||void 0===a?void 0:a.profileImg,variant:"circular",sx:{width:200,height:200},alt:"profile image"}),Object(E.jsx)("h3",{className:"mt-4",children:null===a||void 0===a?void 0:a.name})]}),Object(E.jsxs)(fe.a,{className:"imgRow",children:[(null===a||void 0===a?void 0:a._id)!==JSON.parse(localStorage.getItem("user"))&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(k.a,{variant:o?"secondary":"primary",size:"lg",className:"followBtn align-tems-center",onClick:L,disabled:B,children:[B&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(U.a,{as:"span",animation:"border",style:{borderWidth:"2px"},size:"sm",role:"status","aria-hidden":"true"}),"\xa0"]}),o?"Unfollow":"Follow"]})}),Object(E.jsxs)("div",{className:"userDetails",children:[Object(E.jsxs)("div",{className:"atomicDetail",children:[Object(E.jsx)("h2",{children:null===a||void 0===a?void 0:a.postCount}),Object(E.jsx)("small",{onClick:function(){return I("/myPosts/".concat(null===a||void 0===a?void 0:a._id))},children:"Posts"})]}),Object(E.jsxs)("div",{className:"atomicDetail",children:[Object(E.jsx)("h2",{children:null===a||void 0===a||null===(t=a.followers)||void 0===t?void 0:t.length}),Object(E.jsx)("small",{onClick:function(){x(null===a||void 0===a?void 0:a.followers),C("Followers"),b(!0)},children:"Followers"})]}),Object(E.jsxs)("div",{className:"atomicDetail",children:[Object(E.jsx)("h2",{children:null===a||void 0===a||null===(n=a.following)||void 0===n?void 0:n.length}),Object(E.jsx)("small",{onClick:function(){x(null===a||void 0===a?void 0:a.following),C("Following"),b(!0)},children:"Following"})]})]})]})]})})})]})},Le=n(138),Ee=function(e){var t=e.updateProfile,n=e.setUpdateProfile,a=e.localUser,s=Object(i.b)(),r=Object(c.useRef)(null),o=Object(c.useState)(null===a||void 0===a?void 0:a.profileImg),l=Object(f.a)(o,2),j=l[0],u=l[1],b=Object(c.useState)(null),O=Object(f.a)(b,2),p=O[0],h=O[1],x=Object(c.useState)(a),g=Object(f.a)(x,2),S=g[0],C=g[1],I=Object(c.useState)(!1),P=Object(f.a)(I,2),D=P[0],B=P[1],T=Object(c.useState)(""),L=Object(f.a)(T,2),R=L[0],_=L[1],J=Object(c.useState)(""),H=Object(f.a)(J,2),A=H[0],W=H[1],q=Object(c.useState)(!1),M=Object(f.a)(q,2),Y=M[0],K=M[1],Q=function(e){var t=e.target,n=t.name,c=t.value;C((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},n,c))}))},V=function(){var e=Object(v.a)(m.a.mark((function e(t){var c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),K(!0),(null===S||void 0===S?void 0:S.name)&&(null===S||void 0===S?void 0:S.course)&&(null===S||void 0===S?void 0:S.college)){e.next=8;break}return _("One or more fields are required"),W("warning"),B(!0),K(!1),e.abrupt("return");case 8:return(c=new FormData).append("name",null===S||void 0===S?void 0:S.name),c.append("bio",null===S||void 0===S?void 0:S.bio),c.append("course",null===S||void 0===S?void 0:S.course),c.append("college",null===S||void 0===S?void 0:S.college),null!==p&&c.append("profileImg",p),e.next=16,F(c,a._id);case 16:"success"===(null===(r=e.sent)||void 0===r?void 0:r.msg)?(s(d(null===r||void 0===r?void 0:r.resp)),n(!1),_("Saved Changes"),W("success"),B(!0),K(!1)):(_("Something went wrong"),W("error"),B(!0),K(!1));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsx)(z,{open:D,setOpen:B,type:A,msg:R}),Object(E.jsxs)(de.a,{size:"lg",centered:!0,show:t,onHide:function(){C(a),n(!1),h(null),u(null===a||void 0===a?void 0:a.profileImg)},children:[Object(E.jsx)(de.a.Header,{closeButton:!0,children:"Update Profile"}),Object(E.jsx)(de.a.Body,{children:Object(E.jsx)(N.a,{className:" py-3 rightCard mb-5",children:Object(E.jsx)(N.a.Body,{children:Object(E.jsxs)(Se.a,{onSubmit:V,children:[Object(E.jsx)(ke,{ref:r,setPreviewImage:u,setImgDetails:h}),Object(E.jsxs)("div",{className:"profilePic",children:[Object(E.jsxs)("div",{className:"picOptions",children:[Object(E.jsx)(ce.a,{color:"inherit",onClick:function(){return r.current.click()},children:Object(E.jsx)(se.e,{size:25,style:{cursor:"pointer"},color:"white"})}),Object(E.jsx)(ce.a,{color:"inherit",onClick:function(){h(""),u("")},children:Object(E.jsx)(se.d,{size:25,style:{cursor:"pointer"},color:"white"})})]}),Object(E.jsx)(G.a,{src:j,variant:"circular",sx:{width:200,height:200},alt:"profile image"})]}),Object(E.jsx)(ve.a,{children:Object(E.jsxs)(Se.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(E.jsx)(Se.a.Label,{children:"Bio"}),Object(E.jsx)(Se.a.Control,{as:"textarea",rows:3,className:"aboutSection",name:"bio",value:null===S||void 0===S?void 0:S.bio,onChange:Q})]})}),Object(E.jsxs)(ve.a,{children:[Object(E.jsx)(fe.a,{lg:12,children:Object(E.jsxs)(Se.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(E.jsxs)(Se.a.Label,{children:["Name",Object(E.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(E.jsx)(Se.a.Control,{type:"text",name:"name",value:null===S||void 0===S?void 0:S.name,onChange:Q})]})}),Object(E.jsx)(fe.a,{lg:12,children:Object(E.jsxs)(Se.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(E.jsx)(Se.a.Label,{children:"Email"}),Object(E.jsx)(Se.a.Control,{type:"email",name:"email",value:null===S||void 0===S?void 0:S.email,disabled:!0})]})}),Object(E.jsx)(fe.a,{lg:12,children:Object(E.jsxs)(Se.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(E.jsxs)(Se.a.Label,{children:["Course",Object(E.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(E.jsx)(Se.a.Control,{type:"text",name:"course",value:null===S||void 0===S?void 0:S.course,onChange:Q})]})}),Object(E.jsx)(fe.a,{lg:12,children:Object(E.jsxs)(Se.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(E.jsxs)(Se.a.Label,{children:["College",Object(E.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(E.jsx)(Se.a.Control,{type:"text",name:"college",value:null===S||void 0===S?void 0:S.college,onChange:Q})]})})]}),Object(E.jsx)(k.a,{type:"submit",variant:"outline-primary",className:"saveBtn d-flex align-items-center",disabled:Y,children:Y?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(U.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\xa0 Saving ..."]}):Object(E.jsxs)(E.Fragment,{children:["Save Changes \xa0",Object(E.jsx)(Le.a,{})]})})]})})})})]})]})},Re=function(){var e=Object(c.useState)(!0),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(i.c)(O),r=Object(g.h)(),o=Object(c.useState)({}),l=Object(f.a)(o,2),j=l[0],u=l[1],d=Object(c.useState)(!1),b=Object(f.a)(d,2),p=b[0],h=b[1],x=Object(c.useState)(!1),w=Object(f.a)(x,2),y=w[0],N=w[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(r.userid);case 2:t=e.sent,u(t),a(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r.userid,s,y]),n?Object(E.jsx)(we,{}):Object(E.jsxs)("div",{children:[Object(E.jsx)(Ee,{updateProfile:p,setUpdateProfile:h,localUser:s}),Object(E.jsx)(S.a,{className:"mb-5",children:Object(E.jsxs)(ve.a,{className:"gy-4",children:[Object(E.jsx)(fe.a,{lg:4,children:Object(E.jsx)(Te,{userDetails:j,setReload:N})}),Object(E.jsx)(fe.a,{lg:8,children:Object(E.jsx)(De,{userDetails:j,setUpdateProfile:h})})]})})]})},ze=(n(178),function(e){var t,n,a=e.postDetails,s=e.getSinglePost,r=Object(i.c)(O),o=Object(c.useState)(""),l=Object(f.a)(o,2),j=l[0],u=l[1],d=Object(c.useState)(!1),b=Object(f.a)(d,2),p=b[0],h=b[1],x=Object(c.useState)(""),w=Object(f.a)(x,2),y=w[0],S=w[1],k=Object(c.useState)(""),C=Object(f.a)(k,2),I=C[0],P=C[1],F=Object(c.useState)(!1),D=Object(f.a)(F,2),B=D[0],T=D[1],L=Object(g.g)(),R=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),j){e.next=7;break}return S("Comment is required"),P("warning"),h(!0),T(!1),e.abrupt("return");case 7:return t={comment:j},e.next=10,ie(t,a._id,r._id);case 10:"scuccess"===e.sent?(u(""),s(),S("Comment Added"),P("success"),h(!0),T(!1)):(S("Something went wrong"),P("warning"),h(!0),T(!1));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(z,{open:p,setOpen:h,type:I,msg:y}),Object(E.jsxs)(N.a,{className:"",children:[Object(E.jsxs)(N.a.Header,{className:"bg-white commentArea shadow",children:[Object(E.jsx)(G.a,{src:null===r||void 0===r?void 0:r.profileImg}),Object(E.jsx)("input",{type:"text",value:j,onChange:function(e){return u(e.target.value)},className:"commentInput",placeholder:"Add a Comment",onKeyDown:function(e){"Enter"===e.key&&R()}}),Object(E.jsx)(ce.a,{onClick:R,children:B?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(U.a,{as:"span",animation:"border",style:{borderWidth:"2px"},size:"sm",role:"status","aria-hidden":"true"})}):Object(E.jsx)(se.h,{})})]}),Object(E.jsx)(N.a.Body,{className:"py-0 ",style:{minHeight:"430px"},children:0===(null===a||void 0===a||null===(t=a.comments)||void 0===t?void 0:t.length)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"noComments",children:Object(E.jsx)("h2",{children:"No Comments Yet"})})}):null===a||void 0===a||null===(n=a.comments)||void 0===n?void 0:n.map((function(e,t){var n,c;return Object(E.jsxs)("div",{className:"allComments",children:[Object(E.jsxs)(ve.a,{children:[Object(E.jsx)(fe.a,{xs:2,style:{paddingRight:0},children:Object(E.jsx)(G.a,{src:null===e||void 0===e||null===(n=e.commentBy)||void 0===n?void 0:n.profileImg,onClick:function(){var t;return L("/profile/".concat(null===e||void 0===e||null===(t=e.commentBy)||void 0===t?void 0:t._id))},style:{cursor:"pointer"}})}),Object(E.jsx)(fe.a,{xs:10,style:{paddingLeft:0},children:Object(E.jsxs)("div",{className:"commentInfo",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("small",{className:"text-muted",onClick:function(){var t;return L("/profile/".concat(null===e||void 0===e||null===(t=e.commentBy)||void 0===t?void 0:t._id))},style:{cursor:"pointer"},children:null===e||void 0===e||null===(c=e.commentBy)||void 0===c?void 0:c.name}),Object(E.jsx)("span",{children:Object(E.jsx)("small",{className:"text-muted",children:ae(null===e||void 0===e?void 0:e.commentedAt)})})]}),Object(E.jsx)("p",{style:{marginBottom:"7px"},children:null===e||void 0===e?void 0:e.comment})]})})]}),Object(E.jsx)("hr",{style:{marginTop:0}})]},t)}))})]})]})}),Ue=function(){var e,t,n=Object(g.h)(),a=Object(g.g)(),s=Object(c.useState)([]),r=Object(f.a)(s,2),i=r[0],o=r[1],l=Object(c.useState)(!0),j=Object(f.a)(l,2),u=j[0],d=j[1],b=Object(c.useCallback)(Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(n.postId);case 2:t=e.sent,o(t),d(!1);case 5:case"end":return e.stop()}}),e)}))),[n.postId]);return Object(c.useEffect)((function(){b()}),[b]),u?Object(E.jsx)(we,{}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(S.a,{className:"mb-5",children:Object(E.jsxs)(ve.a,{className:"gx-4 gy-5",children:[Object(E.jsx)(fe.a,{lg:7,children:Object(E.jsxs)(N.a,{children:[Object(E.jsxs)(N.a.Header,{className:"header bg-light",children:[Object(E.jsx)(ce.a,{color:"inherit",className:"iconButton",onClick:function(){var e;return a("/profile/".concat(null===i||void 0===i||null===(e=i.creator)||void 0===e?void 0:e._id))},children:Object(E.jsx)(G.a,{src:null===i||void 0===i||null===(e=i.creator)||void 0===e?void 0:e.profileImg})}),Object(E.jsxs)("div",{className:"headerInfo",children:[Object(E.jsx)("h6",{children:null===i||void 0===i||null===(t=i.creator)||void 0===t?void 0:t.name}),Object(E.jsx)("small",{children:ae(null===i||void 0===i?void 0:i.date)})]})]}),Object(E.jsx)(N.a.Img,{src:null===i||void 0===i?void 0:i.postImg,className:"postImg"}),Object(E.jsxs)(N.a.Body,{children:[null===i||void 0===i?void 0:i.description,Object(E.jsx)("hr",{}),Object(E.jsx)(xe,{postDetails:i,reloadFun:b})]})]})}),Object(E.jsx)(fe.a,{lg:5,className:"commentsCol",children:Object(E.jsx)(ze,{postDetails:i,getSinglePost:b})})]})})})},_e=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te,{}),Object(E.jsx)("div",{style:{paddingTop:"120px"},children:Object(E.jsxs)(g.d,{children:[Object(E.jsx)(g.b,{path:"/home",element:Object(E.jsx)(ye,{})}),Object(E.jsx)(g.b,{path:"/myPosts/:userId",element:Object(E.jsx)(Fe,{})}),Object(E.jsx)(g.b,{path:"/singlePost/:postId",element:Object(E.jsx)(Ue,{})}),Object(E.jsx)(g.b,{path:"/profile/:userid",element:Object(E.jsx)(Re,{})}),Object(E.jsx)(g.b,{path:"*",element:Object(E.jsx)(g.a,{to:"/home"})})]})})]})},Je=(n(179),function(){var e=Object(i.b)(),t=Object(i.c)(O),n=Object(c.useState)(!0),a=Object(f.a)(n,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){var t=function(){var t=Object(v.a)(m.a.mark((function t(){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(n=localStorage.getItem("user"))){t.next=9;break}return t.next=5,P(JSON.parse(n));case 5:(c=t.sent)&&(e(d(c)),r(!1)),t.next=10;break;case 9:r(!1);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),s?Object(E.jsx)(we,{}):Object(E.jsx)(E.Fragment,{children:t?Object(E.jsx)(_e,{}):Object(E.jsx)(H,{})})});r.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(i.a,{store:h,children:Object(E.jsx)(o.a,{children:Object(E.jsx)(Je,{})})})}),document.getElementById("root"))},89:function(e,t,n){}},[[180,1,2]]]);
//# sourceMappingURL=main.57c0fe54.chunk.js.map