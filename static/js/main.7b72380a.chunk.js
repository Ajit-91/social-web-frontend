(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(38),s=n.n(r),o=n(25),i=n(50),l=n(102),j=Object(l.b)({name:"user",initialState:{user:null},reducers:{SET_USER:function(e,t){e.user=t.payload},LOGOUT:function(e){e.user=null,localStorage.removeItem("user")}}}),u=j.actions,d=u.SET_USER,b=u.LOGOUT,O=function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.user},h=j.reducer,p=Object(l.a)({reducer:{user:h}}),x=n(18),m=n.n(x),v=n(21),f=n(5),g=(n(165),n(13)),w=n(6),y=n(4),S=n(220),N=n(239),k=n(222),C=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,console.log("user : "+t),e.next=5,fetch("".concat("https://social-web-apis.herokuapp.com","/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 5:return n=e.sent,e.next=8,n.json();case 8:if(c=e.sent,200!==n.status){e.next=13;break}return e.abrupt("return",c);case 13:return console.log(c),e.abrupt("return",c);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("https://social-web-apis.herokuapp.com"),e.prev=1,e.next=4,fetch("".concat("https://social-web-apis.herokuapp.com","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return n=e.sent,e.next=7,n.json();case 7:if(c=e.sent,201!==n.status){e.next=12;break}return e.abrupt("return",c);case 12:return console.log(c),e.abrupt("return",c);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.herokuapp.com","/api/fetchUser/").concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",c);case 11:console.log(c);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(m.a.mark((function e(t,n){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.herokuapp.com","/api/updateprofile/").concat(n),{method:"PUT",body:t});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,200!==c.status){e.next=11;break}return e.abrupt("return",a);case 11:console.log(a);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(m.a.mark((function e(t,n){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.herokuapp.com","/api/followOrUnfollow/follower/").concat(t,"/followingTo/").concat(n),{method:"PUT"});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,200!==c.status){e.next=11;break}return e.abrupt("return",a);case 11:return console.log(a),alert("process failed"),e.abrupt("return",a);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),alert("process failed");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),B=n(226),T=n(233),E=n(231),L=n(2),R=a.a.forwardRef((function(e,t){return Object(L.jsx)(E.a,Object(y.a)({elevation:6,ref:t,variant:"filled"},e))})),z=function(e){var t=e.msg,n=e.type,c=e.open,a=e.setOpen,r=function(e,t){"clickaway"!==t&&a(!1)};return Object(L.jsx)(T.a,{open:c,autoHideDuration:3e3,onClose:r,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(L.jsx)(R,{onClose:r,severity:n,sx:{width:"100%"},children:t})})},U=n(223),_=function(){var e=Object(o.b)(),t=Object(c.useState)({email:"",password:""}),n=Object(f.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),l=Object(f.a)(s,2),j=l[0],u=l[1],b=Object(c.useState)(""),O=Object(f.a)(b,2),h=O[0],p=O[1],x=Object(c.useState)(""),g=Object(f.a)(x,2),C=g[0],P=g[1],F=Object(c.useState)(!1),D=Object(f.a)(F,2),T=D[0],E=D[1],R=function(e){var t=e.target,n=t.name,c=t.value;r((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},n,c))}))},_=function(){var t=Object(v.a)(m.a.mark((function t(n){var c,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),E(!0),(null===a||void 0===a?void 0:a.email)&&(null===a||void 0===a?void 0:a.password)){t.next=8;break}return p("One or more fields are required"),P("warning"),u(!0),E(!1),t.abrupt("return");case 8:return t.next=10,I(a);case 10:"success"===(null===(c=t.sent)||void 0===c?void 0:c.msg)?(localStorage.setItem("user",JSON.stringify(null===c||void 0===c||null===(r=c.resp)||void 0===r?void 0:r._id)),e(d(null===c||void 0===c?void 0:c.resp)),E(!1)):"success"===(null===c||void 0===c?void 0:c.msg)||(null===c||void 0===c?void 0:c.resp)?(p("something went wrong"),P("error"),u(!0),E(!1)):(p("".concat(null===c||void 0===c?void 0:c.msg)),P("info"),u(!0),E(!1));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(S.a,{className:"formContainer",children:[Object(L.jsx)(z,{open:j,setOpen:u,type:C,msg:h}),Object(L.jsx)(N.a,{className:"bg-white shadow-lg formCard ",children:Object(L.jsxs)(N.a.Body,{children:[Object(L.jsxs)("form",{id:"registerForm",onSubmit:_,children:[Object(L.jsx)("p",{className:"text-muted text-center m-0",children:"Login"}),Object(L.jsx)(B.a,{label:"Email",fullWidth:!0,margin:"normal",variant:"outlined",name:"email",value:a.email,onChange:R}),Object(L.jsx)(B.a,{label:"Password",fullWidth:!0,margin:"normal",type:"password",variant:"outlined",name:"password",value:a.password,onChange:R}),Object(L.jsxs)(k.a,{variant:"outline-primary",type:"submit",className:"mt-3 align-tems-center",disabled:T,children:[T&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(U.a,{as:"span",animation:"border",style:{borderWidth:"2px"},size:"sm",role:"status","aria-hidden":"true"}),"\xa0"]}),"Login"]}),Object(L.jsx)("br",{})]}),Object(L.jsxs)("div",{className:"text-center",children:[Object(L.jsx)("p",{className:"text-muted",children:"Don't have Account ?"}),Object(L.jsx)(i.b,{to:"/register",className:"text-muted",children:"Register"})]})]})})]})})},J=(n(168),function(){var e=Object(o.b)(),t=Object(c.useState)({name:"",email:"",password:"",course:"",college:""}),n=Object(f.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),l=Object(f.a)(s,2),j=l[0],u=l[1],b=Object(c.useState)(""),O=Object(f.a)(b,2),h=O[0],p=O[1],x=Object(c.useState)(""),g=Object(f.a)(x,2),I=g[0],P=g[1],F=Object(c.useState)(!1),D=Object(f.a)(F,2),T=D[0],E=D[1],R=function(e){var t=e.target,n=t.name,c=t.value;r((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},n,c))}))},_=function(){var t=Object(v.a)(m.a.mark((function t(n){var c,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),E(!0),(null===a||void 0===a?void 0:a.name)&&(null===a||void 0===a?void 0:a.email)&&(null===a||void 0===a?void 0:a.password)&&(null===a||void 0===a?void 0:a.college)&&(null===a||void 0===a?void 0:a.course)){t.next=8;break}return p("One or more fields are required"),P("warning"),u(!0),E(!1),t.abrupt("return");case 8:return t.next=10,C(a);case 10:"success"===(null===(c=t.sent)||void 0===c?void 0:c.msg)?(localStorage.setItem("user",JSON.stringify(null===c||void 0===c||null===(r=c.resp)||void 0===r?void 0:r._id)),e(d(null===c||void 0===c?void 0:c.resp)),E(!1)):"success"===(null===c||void 0===c?void 0:c.msg)||(null===c||void 0===c?void 0:c.resp)?(p("something went wrong"),P("error"),u(!0),E(!1)):(p("".concat(null===c||void 0===c?void 0:c.msg)),P("info"),u(!0),E(!1));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(z,{open:j,setOpen:u,type:I,msg:h}),Object(L.jsx)(S.a,{className:"formContainer",children:Object(L.jsx)(N.a,{className:"bg-white shadow-lg formCard ",children:Object(L.jsxs)(N.a.Body,{children:[Object(L.jsxs)("form",{id:"registerForm",onSubmit:_,children:[Object(L.jsx)("p",{className:"text-muted text-center",children:"Register"}),Object(L.jsx)(B.a,{label:"Name *",fullWidth:!0,margin:"normal",variant:"outlined",name:"name",value:a.name,onChange:R}),Object(L.jsx)(B.a,{label:"Email *",fullWidth:!0,margin:"normal",variant:"outlined",name:"email",value:a.email,onChange:R}),Object(L.jsx)(B.a,{label:"Password *",fullWidth:!0,margin:"normal",type:"password",variant:"outlined",name:"password",value:a.password,onChange:R}),Object(L.jsx)(B.a,{label:"College *",fullWidth:!0,margin:"normal",variant:"outlined",name:"college",value:a.college,onChange:R}),Object(L.jsx)(B.a,{label:"Course *",fullWidth:!0,margin:"normal",variant:"outlined",name:"course",value:a.course,onChange:R}),Object(L.jsxs)(k.a,{variant:"outline-primary",type:"submit",className:"mt-3 align-tems-center",disabled:T,children:[T&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(U.a,{as:"span",animation:"border",style:{borderWidth:"2px"},size:"sm",role:"status","aria-hidden":"true"}),"\xa0"]}),"Register"]}),Object(L.jsx)("br",{})]}),Object(L.jsxs)("div",{className:"text-center ",children:[Object(L.jsx)("p",{className:"text-muted",children:"Already have Account ?"}),Object(L.jsx)(i.b,{to:"/login",children:" Login "})]})]})})})]})}),H=function(){return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(g.d,{children:[Object(L.jsx)(g.b,{path:"/login",element:Object(L.jsx)(_,{})}),Object(L.jsx)(g.b,{path:"/register",element:Object(L.jsx)(J,{})}),Object(L.jsx)(g.b,{path:"*",element:Object(L.jsx)(g.a,{to:"/login"})})]})})},A=n(228),W=n(227),G=n(236),q=n(96),M=n(97),Y=n(240),K=n(234),Q=n(224),V=n(242),X=n(232),Z=n(241),$=n(219);n(169);function ee(e){var t=e.setShow,n=Object(o.b)(),c=Object(g.g)(),a=Object(o.c)(O);return Object(L.jsx)($.a,{onClickAway:function(){t(!1)},children:Object(L.jsx)("div",{className:"navList shadow-lg",children:Object(L.jsxs)(Y.a,{children:[Object(L.jsx)(K.a,{disablePadding:!0,children:Object(L.jsx)(Q.a,{style:{pointerEvents:"none"},children:Object(L.jsxs)("div",{children:[Object(L.jsx)("h5",{className:"user",children:null===a||void 0===a?void 0:a.name}),Object(L.jsx)("small",{children:null===a||void 0===a?void 0:a.email})]})})}),Object(L.jsx)(Z.a,{}),Object(L.jsx)(K.a,{disablePadding:!0,children:Object(L.jsxs)(Q.a,{onClick:function(){return c("/profile/".concat(JSON.parse(localStorage.getItem("user"))))},children:[Object(L.jsx)(V.a,{children:Object(L.jsx)(q.b,{})}),Object(L.jsx)(X.a,{primary:"Profile"})]})}),Object(L.jsx)(K.a,{disablePadding:!0,children:Object(L.jsxs)(Q.a,{onClick:function(){return n(b())},children:[Object(L.jsx)(V.a,{children:Object(L.jsx)(M.b,{})}),Object(L.jsx)(X.a,{primary:"Logout"})]})})]})})})}n(170);function te(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(o.c)(O);return Object(L.jsx)("div",{id:"nav",children:Object(L.jsx)(A.a,{children:Object(L.jsxs)(S.a,{fluid:"lg",className:"navSubCont",children:[n&&Object(L.jsx)(ee,{setShow:a}),Object(L.jsx)(A.a.Brand,{className:"brand",children:Object(L.jsx)(i.c,{exact:"".concat(!0),to:"/",children:Object(L.jsx)("img",{src:"https://static.vecteezy.com/system/resources/previews/000/348/244/original/sharing-vector-icon.jpg",alt:"logo",style:{width:"60px",marginRight:"1rem",borderRadius:"10px"}})})}),Object(L.jsxs)(W.a,{className:"linkContainer",children:[Object(L.jsx)(i.c,{exact:"".concat(!0),to:"/",children:"HOME"}),Object(L.jsx)(i.c,{exact:"".concat(!0),to:"/myPosts/".concat(null===r||void 0===r?void 0:r._id),children:"MY POSTS"}),Object(L.jsx)("section",{className:"userInfo",onClick:function(){return a((function(e){return!e}))},children:Object(L.jsx)(G.a,{src:null===r||void 0===r?void 0:r.profileImg})})]})]})})})}var ne=n(131),ce=n(238),ae=function(e){var t=new Date(e);return t=t.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})},re=n(29),se=function(){var e=Object(v.a)(m.a.mark((function e(t,n){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.herokuapp.com","/api/createpost/").concat(n),{method:"POST",body:t});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,200!==c.status){e.next=11;break}return e.abrupt("return",a);case 11:return console.log(a),e.abrupt("return",a);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(v.a)(m.a.mark((function e(t,n,c){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.herokuapp.com","/api/post/").concat(n,"/comment/").concat(c),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:if(r=e.sent,200!==a.status){e.next=11;break}return e.abrupt("return",r);case 11:return console.log(r),e.abrupt("return",r);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,c){return e.apply(this,arguments)}}(),ie=function(){var e=Object(v.a)(m.a.mark((function e(t,n){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.herokuapp.com","/api/post/").concat(t,"/like/").concat(n),{method:"PUT"});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,200!==c.status){e.next=11;break}return e.abrupt("return",a);case 11:return console.log(a),e.abrupt("return",a);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.herokuapp.com","/api/fetchUserPosts/").concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",c);case 11:return console.log(c),e.abrupt("return",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.herokuapp.com","/api/fetchAllPosts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",c);case 11:return console.log(c),e.abrupt("return",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://social-web-apis.herokuapp.com","/api/fetchSinglePost/").concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",c);case 11:return console.log(c),e.abrupt("return",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),de=n(230),be=n(243),Oe=n(134),he=n(135),pe=function(e){var t=e.showShareLink,n=e.setShowShareLink,a=e.postDetails,r=Object(c.useState)(!1),s=Object(f.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)(!1),j=Object(f.a)(l,2),u=j[0],d=j[1],b=Object(c.useState)(""),O=Object(f.a)(b,2),h=O[0],p=O[1],x=Object(c.useState)(""),m=Object(f.a)(x,2),v=m[0],g=m[1],w=Object(c.useRef)();return Object(L.jsxs)("div",{children:[Object(L.jsx)(z,{open:u,setOpen:d,type:v,msg:h}),Object(L.jsxs)(de.a,{centered:!0,size:"md",show:t,onHide:function(){n(!1)},children:[Object(L.jsx)(de.a.Header,{children:"Copy Link to share"}),Object(L.jsx)(de.a.Body,{children:Object(L.jsxs)(be.a,{children:[Object(L.jsx)(Oe.a,{disabled:!0,ref:w,value:"".concat("https://ajit-91.github.io/social-web-frontend#","/singlePost/").concat(null===a||void 0===a?void 0:a._id)}),Object(L.jsx)(be.a.Text,{style:{cursor:"pointer"},onClick:function(){var e,t,n,c,a;if(null===w||void 0===w||null===(e=w.current)||void 0===e||e.select(),null===w||void 0===w||null===(t=w.current)||void 0===t||t.setSelectionRange(0,99999),void 0===(null===(n=navigator)||void 0===n?void 0:n.clipboard))return p("Something went wrong"),g("error"),void d(!0);null===(c=navigator)||void 0===c||null===(a=c.clipboard)||void 0===a||a.writeText(w.current.value),i(!0),p("Successfully Copied"),g("success"),d(!0),setTimeout((function(){i(!1)}),3e3)},children:o?Object(L.jsx)(he.a,{}):Object(L.jsx)(re.c,{})})]})})]})]})},xe=(n(126),function(e){var t,n,a=e.postDetails,r=e.reloadFun,s=Object(c.useState)(),o=Object(f.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)(!1),u=Object(f.a)(j,2),d=u[0],b=u[1];Object(c.useEffect)((function(){var e,t;l(null===a||void 0===a||null===(e=a.likes)||void 0===e||null===(t=e.likedBy)||void 0===t?void 0:t.includes(JSON.parse(localStorage.getItem("user"))))}),[a]);var O=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(null===a||void 0===a?void 0:a._id,JSON.parse(localStorage.getItem("user")));case 2:return t=e.sent,console.log("like",t),e.next=6,r();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(pe,{showShareLink:d,setShowShareLink:b,postDetails:a}),Object(L.jsxs)("div",{className:"postInfo",children:[Object(L.jsxs)("div",{onClick:O,children:[i?Object(L.jsx)(ce.a,{color:"inherit",className:"iconButton",children:Object(L.jsx)(re.f,{size:"30px",color:"red"})}):Object(L.jsx)(ce.a,{color:"inherit",className:"iconButton",children:Object(L.jsx)(re.g,{size:"30px"})}),Object(L.jsxs)("span",{children:["\xa0",null===a||void 0===a||null===(t=a.likes)||void 0===t?void 0:t.likeCount]})]}),Object(L.jsxs)("div",{className:"mx-4",children:[Object(L.jsx)(re.b,{size:"30px"}),Object(L.jsxs)("span",{children:["\xa0",null===a||void 0===a||null===(n=a.comments)||void 0===n?void 0:n.length]})]}),Object(L.jsx)("div",{className:"share",children:Object(L.jsx)(ce.a,{color:"inherit",className:"iconButton",onClick:function(){return b(!0)},children:Object(L.jsx)(re.i,{size:"30px"})})})]})]})}),me=function(e){var t,n,c=e.postDetails,a=e.reloadFun,r=Object(g.g)();return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(N.a,{className:"shadow-lg postCard",children:[Object(L.jsxs)(N.a.Header,{className:"header bg-light",children:[Object(L.jsx)(ce.a,{color:"inherit",className:"iconButton",onClick:function(){var e;return r("/profile/".concat(null===c||void 0===c||null===(e=c.creator)||void 0===e?void 0:e._id))},children:Object(L.jsx)(G.a,{src:null===c||void 0===c||null===(t=c.creator)||void 0===t?void 0:t.profileImg})}),Object(L.jsxs)("div",{className:"headerInfo",children:[Object(L.jsx)("h6",{children:null===c||void 0===c||null===(n=c.creator)||void 0===n?void 0:n.name}),Object(L.jsx)("small",{children:ae(null===c||void 0===c?void 0:c.date)})]})]}),(null===c||void 0===c?void 0:c.postImg)&&Object(L.jsx)(ne.a,{src:null===c||void 0===c?void 0:c.postImg,className:"postImg",onClick:function(){return r("/singlePost/".concat(null===c||void 0===c?void 0:c._id))},style:{cursor:"pointer"}}),Object(L.jsx)(N.a.Body,{onClick:function(){return r("/singlePost/".concat(null===c||void 0===c?void 0:c._id))},style:{cursor:"pointer"},children:Object(L.jsx)("p",{className:"postDescrption",style:{whiteSpace:"".concat((null===c||void 0===c?void 0:c.postImg)?"nowrap":"normal")},children:null===c||void 0===c?void 0:c.description})}),Object(L.jsx)(N.a.Footer,{className:"bg-white ",children:Object(L.jsx)(xe,{postDetails:c,reloadFun:a})})]})})},ve=n(225),fe=n(136),ge=n(244),we=function(){return Object(L.jsx)("div",{style:{position:"absolute",top:"50%",right:"50%",transform:"translate(50%, -50%)"},children:Object(L.jsx)(ge.a,{size:60,thickness:3})})},ye=(n(174),function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),s=Object(f.a)(r,2),o=s[0],i=s[1],l=Object(c.useCallback)(Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(JSON.parse(localStorage.getItem("user")));case 2:t=e.sent,a(t),i(!1);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(c.useEffect)((function(){l()}),[l]),o?Object(L.jsx)(we,{}):Object(L.jsx)(S.a,{children:Object(L.jsx)(ve.a,{className:"main",children:Object(L.jsx)(fe.a,{lg:7,children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(L.jsxs)("div",{children:[Object(L.jsx)(me,{postDetails:e,reloadFun:l}),Object(L.jsx)("br",{})]},t)}))})})})}),Se=n(229),Ne=(n(175),function(e,t){var n=e.setPreviewImage,c=e.setImgDetails;return Object(L.jsx)("div",{children:Object(L.jsx)("input",{type:"file",hidden:!0,accept:"image/*",ref:t,onChange:function(e){var t=e.target.files[0];if(t){c(t);var a=new FileReader;a.readAsDataURL(t),a.onload=function(){n(a.result)},a.onerror=function(e){console.log(e)}}}})})}),ke=Object(c.forwardRef)(Ne),Ce=n(137),Ie=(n(176),function(e){var t=e.createPostStatus,n=e.setCreatePostStatus,a=Object(c.useRef)(null),r=Object(o.b)(),s=Object(c.useState)(""),i=Object(f.a)(s,2),l=i[0],j=i[1],u=Object(c.useState)(null),b=Object(f.a)(u,2),O=b[0],h=b[1],p=Object(c.useState)(),x=Object(f.a)(p,2),g=x[0],w=x[1],y=Object(c.useState)(!1),S=Object(f.a)(y,2),C=S[0],I=S[1],P=Object(c.useState)(!1),F=Object(f.a)(P,2),D=F[0],B=F[1],T=Object(c.useState)(""),E=Object(f.a)(T,2),R=E[0],_=E[1],J=Object(c.useState)(""),H=Object(f.a)(J,2),A=H[0],W=H[1],G=Object(c.useState)(!1),M=Object(f.a)(G,2),Y=M[0],K=M[1],Q=function(){j(""),w(""),h(""),I(!1),n(!1)},V=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),K(!0),g){e.next=8;break}return _("One or more fields are required"),W("warning"),B(!0),K(!1),e.abrupt("return");case 8:return(n=new FormData).append("description",g),O&&n.append("postImg",O),e.next=13,se(n,JSON.parse(localStorage.getItem("user")));case 13:"success"===(null===(c=e.sent)||void 0===c?void 0:c.msg)?(console.log(c),r(d(c.resp)),_("Added a post"),W("success"),B(!0),K(!1),Q()):(_("Something Went wrong"),W("error"),B(!0),K(!1));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(z,{open:D,setOpen:B,type:A,msg:R}),Object(L.jsxs)(de.a,{size:"lg",centered:!0,show:t,onHide:Q,children:[Object(L.jsx)(de.a.Header,{closeButton:!0,children:"Create Post"}),Object(L.jsx)(de.a.Body,{children:Object(L.jsx)(N.a,{className:" py-3 rightCard mb-5",children:Object(L.jsx)(N.a.Body,{children:Object(L.jsxs)(Se.a,{onSubmit:V,children:[l?Object(L.jsx)("div",{className:"previewImg ",children:Object(L.jsx)(N.a.Img,{src:l})}):Object(L.jsx)("div",{className:"uploadImg",onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),I(!0)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),I(!1)},onDragOver:function(e){return e.preventDefault(),e.stopPropagation(),!1},onDrop:function(e){e.stopPropagation(),e.preventDefault(),console.log(e),console.log(e.dataTransfer.files[0]);var t=e.dataTransfer.files[0];if(t){h(t);var n=new FileReader;n.readAsDataURL(t),n.onload=function(){j(n.result)},n.onerror=function(e){console.log(e)}}},children:C?Object(L.jsx)("h4",{className:"text-muted",children:"Release to Upload File"}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(q.a,{size:90,color:"#0d6efd"}),Object(L.jsx)("p",{children:"Drag & Drop to Upload Image"}),Object(L.jsx)("p",{children:"OR"}),Object(L.jsx)(k.a,{onClick:function(){return a.current.click()},children:"Browse File"})]})}),Object(L.jsx)(ke,{ref:a,setPreviewImage:j,setImgDetails:h}),Object(L.jsx)(ve.a,{children:Object(L.jsx)(Se.a.Group,{className:"my-3",controlId:"exampleForm.ControlTextarea1",children:Object(L.jsx)(Se.a.Control,{as:"textarea",placeholder:"What's in your mind",rows:5,className:"aboutSection",name:"post",value:g,onChange:function(e){return w(e.target.value)}})})}),Object(L.jsx)(k.a,{type:"submit",variant:"outline-primary",className:"d-flex align-items-center postbtn",disabled:Y,children:Y?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(U.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\xa0Creating..."]}):Object(L.jsxs)(L.Fragment,{children:["Post \xa0",Object(L.jsx)(Ce.a,{size:20})]})})]})})})})]})]})}),Pe=n(245),Fe=(n(177),function(){var e=Object(g.h)(),t=Object(c.useState)(!1),n=Object(f.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),o=Object(f.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)(!0),u=Object(f.a)(j,2),d=u[0],b=u[1],O=Object(c.useCallback)(Object(v.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le(e.userId);case 2:n=t.sent,l(n),b(!1);case 5:case"end":return t.stop()}}),t)}))),[e.userId]);return Object(c.useEffect)((function(){O()}),[O,a]),d?Object(L.jsx)(we,{}):Object(L.jsxs)("div",{className:"main",children:[Object(L.jsx)(Ie,{createPostStatus:a,setCreatePostStatus:r}),Object(L.jsxs)(S.a,{className:"mb-5  position-relative",children:[(null===e||void 0===e?void 0:e.userId)===JSON.parse(localStorage.getItem("user"))&&Object(L.jsx)(Pe.a,{color:"primary",className:"createPostBtn",onClick:function(){return r(!0)},children:Object(L.jsx)(re.a,{size:25})}),0===(null===i||void 0===i?void 0:i.length)?Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("div",{className:"noPosts",children:[Object(L.jsx)("h2",{children:"You don't have any posts yet"}),Object(L.jsx)("h3",{children:"Start creating"})]})}):Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(ve.a,{className:"gy-4",children:null===i||void 0===i?void 0:i.map((function(e,t){return Object(L.jsx)(fe.a,{lg:6,children:Object(L.jsx)(me,{postDetails:e,reloadFun:O})},t)}))})})]})]})}),De=(n(89),function(e){var t=e.userDetails,n=e.setUpdateProfile;return Object(L.jsx)("div",{children:Object(L.jsxs)(N.a,{className:"shadow-lg py-3 rightCard mb-5",children:[Object(L.jsx)(N.a.Header,{className:"bg-white",children:Object(L.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:["PROFILE DETAILS",(null===t||void 0===t?void 0:t._id)===JSON.parse(localStorage.getItem("user"))&&Object(L.jsx)(ce.a,{color:"inherit",onClick:function(){return n(!0)},children:Object(L.jsx)(M.a,{size:25,style:{cursor:"pointer"}})})]})}),Object(L.jsxs)(N.a.Body,{children:[Object(L.jsxs)(ve.a,{children:[Object(L.jsx)("h2",{children:"About Me"}),Object(L.jsx)("p",{children:null===t||void 0===t?void 0:t.bio})]}),Object(L.jsxs)(ve.a,{className:"mb-4 mt-4",children:[Object(L.jsx)(fe.a,{lg:3,children:Object(L.jsx)("h5",{children:"Name"})}),Object(L.jsx)(fe.a,{lg:9,children:Object(L.jsx)("div",{className:"bg-light p-2",children:null===t||void 0===t?void 0:t.name})})]}),Object(L.jsxs)(ve.a,{className:"mb-4",children:[Object(L.jsx)(fe.a,{lg:3,children:Object(L.jsx)("h5",{children:"Email"})}),Object(L.jsx)(fe.a,{lg:9,children:Object(L.jsx)("div",{className:"bg-light p-2",children:null===t||void 0===t?void 0:t.email})})]}),Object(L.jsxs)(ve.a,{className:"mb-4",children:[Object(L.jsx)(fe.a,{lg:3,children:Object(L.jsx)("h5",{children:"Course"})}),Object(L.jsx)(fe.a,{lg:9,children:Object(L.jsx)("div",{className:"bg-light p-2",children:null===t||void 0===t?void 0:t.course})})]}),Object(L.jsxs)(ve.a,{className:"mb-4",children:[Object(L.jsx)(fe.a,{lg:3,children:Object(L.jsx)("h5",{children:"College"})}),Object(L.jsx)(fe.a,{lg:9,children:Object(L.jsx)("div",{className:"bg-light p-2",children:null===t||void 0===t?void 0:t.college})})]})]})]})})}),Be=function(e){var t=e.showList,n=e.setShowList,c=e.list,a=e.listType,r=Object(g.g)(),s=function(){n(!1)};return Object(L.jsx)("div",{children:Object(L.jsxs)(de.a,{centered:!0,size:"sm",show:t,onHide:s,children:[Object(L.jsx)(de.a.Header,{closeButton:!0,children:a}),Object(L.jsx)(de.a.Body,{className:"pb-0",children:null===c||void 0===c?void 0:c.map((function(e,t){var n;return Object(L.jsxs)("div",{className:"follwrsRow",children:[Object(L.jsxs)(ve.a,{children:[Object(L.jsx)(fe.a,{xs:2,style:{paddingRight:0},children:Object(L.jsx)(G.a,{src:null===e||void 0===e?void 0:e.profileImg,style:{cursor:"pointer"},onClick:function(){s(),r("/profile/".concat(null===e||void 0===e?void 0:e._id))}})}),Object(L.jsx)(fe.a,{xs:10,style:{paddingLeft:0},children:Object(L.jsxs)("div",{className:"follwrInfo",children:[Object(L.jsx)("p",{children:null===e||void 0===e?void 0:e.name}),Object(L.jsxs)("small",{children:[null===e||void 0===e||null===(n=e.followers)||void 0===n?void 0:n.length," Followers"]})]})})]}),Object(L.jsx)("hr",{})]},t)}))})]})})},Te=function(e){var t,n,a=e.userDetails,r=e.setReload,s=Object(c.useState)(),o=Object(f.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)(!1),u=Object(f.a)(j,2),d=u[0],b=u[1],O=Object(c.useState)([]),h=Object(f.a)(O,2),p=h[0],x=h[1],w=Object(c.useState)(""),y=Object(f.a)(w,2),S=y[0],C=y[1],I=Object(g.g)(),P=Object(c.useState)(!1),F=Object(f.a)(P,2),B=F[0],T=F[1];Object(c.useEffect)((function(){var e;l(null===a||void 0===a||null===(e=a.followers)||void 0===e?void 0:e.find((function(e){return e._id===JSON.parse(localStorage.getItem("user"))})))}),[a,i]);var E=function(){var e=Object(v.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t=JSON.parse(localStorage.getItem("user")),n=null===a||void 0===a?void 0:a._id,e.next=5,D(t,n);case 5:l((function(e){return!e})),r((function(e){return!e})),T(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(Be,{showList:d,setShowList:b,list:p,listType:S}),Object(L.jsx)(N.a,{className:"shadow-lg py-3 leftCard",children:Object(L.jsx)(N.a.Body,{children:Object(L.jsxs)(ve.a,{className:"gy-3",children:[Object(L.jsxs)(fe.a,{className:"imgRow",children:[Object(L.jsx)(G.a,{src:null===a||void 0===a?void 0:a.profileImg,variant:"circular",sx:{width:200,height:200},alt:"profile image"}),Object(L.jsx)("h3",{className:"mt-4",children:null===a||void 0===a?void 0:a.name})]}),Object(L.jsxs)(fe.a,{className:"imgRow",children:[(null===a||void 0===a?void 0:a._id)!==JSON.parse(localStorage.getItem("user"))&&Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(k.a,{variant:i?"secondary":"primary",size:"lg",className:"followBtn align-tems-center",onClick:E,disabled:B,children:[B&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(U.a,{as:"span",animation:"border",style:{borderWidth:"2px"},size:"sm",role:"status","aria-hidden":"true"}),"\xa0"]}),i?"Unfollow":"Follow"]})}),Object(L.jsxs)("div",{className:"userDetails",children:[Object(L.jsxs)("div",{className:"atomicDetail",children:[Object(L.jsx)("h2",{children:null===a||void 0===a?void 0:a.postCount}),Object(L.jsx)("small",{onClick:function(){return I("/myPosts/".concat(null===a||void 0===a?void 0:a._id))},children:"Posts"})]}),Object(L.jsxs)("div",{className:"atomicDetail",children:[Object(L.jsx)("h2",{children:null===a||void 0===a||null===(t=a.followers)||void 0===t?void 0:t.length}),Object(L.jsx)("small",{onClick:function(){x(null===a||void 0===a?void 0:a.followers),C("Followers"),b(!0)},children:"Followers"})]}),Object(L.jsxs)("div",{className:"atomicDetail",children:[Object(L.jsx)("h2",{children:null===a||void 0===a||null===(n=a.following)||void 0===n?void 0:n.length}),Object(L.jsx)("small",{onClick:function(){x(null===a||void 0===a?void 0:a.following),C("Following"),b(!0)},children:"Following"})]})]})]})]})})})]})},Ee=n(138),Le=function(e){var t=e.updateProfile,n=e.setUpdateProfile,a=e.localUser,r=Object(o.b)(),s=Object(c.useRef)(null),i=Object(c.useState)(null===a||void 0===a?void 0:a.profileImg),l=Object(f.a)(i,2),j=l[0],u=l[1],b=Object(c.useState)(null),O=Object(f.a)(b,2),h=O[0],p=O[1],x=Object(c.useState)(a),g=Object(f.a)(x,2),S=g[0],C=g[1],I=Object(c.useState)(!1),P=Object(f.a)(I,2),D=P[0],B=P[1],T=Object(c.useState)(""),E=Object(f.a)(T,2),R=E[0],_=E[1],J=Object(c.useState)(""),H=Object(f.a)(J,2),A=H[0],W=H[1],q=Object(c.useState)(!1),M=Object(f.a)(q,2),Y=M[0],K=M[1],Q=function(e){var t=e.target,n=t.name,c=t.value;C((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},n,c))}))},V=function(){var e=Object(v.a)(m.a.mark((function e(t){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),K(!0),(null===S||void 0===S?void 0:S.name)&&(null===S||void 0===S?void 0:S.course)&&(null===S||void 0===S?void 0:S.college)){e.next=8;break}return _("One or more fields are required"),W("warning"),B(!0),K(!1),e.abrupt("return");case 8:return(c=new FormData).append("name",null===S||void 0===S?void 0:S.name),c.append("bio",null===S||void 0===S?void 0:S.bio),c.append("course",null===S||void 0===S?void 0:S.course),c.append("college",null===S||void 0===S?void 0:S.college),null!==h&&c.append("profileImg",h),e.next=16,F(c,a._id);case 16:"success"===(null===(s=e.sent)||void 0===s?void 0:s.msg)?(r(d(null===s||void 0===s?void 0:s.resp)),n(!1),_("Saved Changes"),W("success"),B(!0),K(!1)):(_("Something went wrong"),W("error"),B(!0),K(!1));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)("div",{children:[Object(L.jsx)(z,{open:D,setOpen:B,type:A,msg:R}),Object(L.jsxs)(de.a,{size:"lg",centered:!0,show:t,onHide:function(){C(a),n(!1),p(null),u(null===a||void 0===a?void 0:a.profileImg)},children:[Object(L.jsx)(de.a.Header,{closeButton:!0,children:"Update Profile"}),Object(L.jsx)(de.a.Body,{children:Object(L.jsx)(N.a,{className:" py-3 rightCard mb-5",children:Object(L.jsx)(N.a.Body,{children:Object(L.jsxs)(Se.a,{onSubmit:V,children:[Object(L.jsx)(ke,{ref:s,setPreviewImage:u,setImgDetails:p}),Object(L.jsxs)("div",{className:"profilePic",children:[Object(L.jsxs)("div",{className:"picOptions",children:[Object(L.jsx)(ce.a,{color:"inherit",onClick:function(){return s.current.click()},children:Object(L.jsx)(re.e,{size:25,style:{cursor:"pointer"},color:"white"})}),Object(L.jsx)(ce.a,{color:"inherit",onClick:function(){p(""),u("")},children:Object(L.jsx)(re.d,{size:25,style:{cursor:"pointer"},color:"white"})})]}),Object(L.jsx)(G.a,{src:j,variant:"circular",sx:{width:200,height:200},alt:"profile image"})]}),Object(L.jsx)(ve.a,{children:Object(L.jsxs)(Se.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(L.jsx)(Se.a.Label,{children:"Bio"}),Object(L.jsx)(Se.a.Control,{as:"textarea",rows:3,className:"aboutSection",name:"bio",value:null===S||void 0===S?void 0:S.bio,onChange:Q})]})}),Object(L.jsxs)(ve.a,{children:[Object(L.jsx)(fe.a,{lg:12,children:Object(L.jsxs)(Se.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(L.jsxs)(Se.a.Label,{children:["Name",Object(L.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(L.jsx)(Se.a.Control,{type:"text",name:"name",value:null===S||void 0===S?void 0:S.name,onChange:Q})]})}),Object(L.jsx)(fe.a,{lg:12,children:Object(L.jsxs)(Se.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(L.jsx)(Se.a.Label,{children:"Email"}),Object(L.jsx)(Se.a.Control,{type:"email",name:"email",value:null===S||void 0===S?void 0:S.email,disabled:!0})]})}),Object(L.jsx)(fe.a,{lg:12,children:Object(L.jsxs)(Se.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(L.jsxs)(Se.a.Label,{children:["Course",Object(L.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(L.jsx)(Se.a.Control,{type:"text",name:"course",value:null===S||void 0===S?void 0:S.course,onChange:Q})]})}),Object(L.jsx)(fe.a,{lg:12,children:Object(L.jsxs)(Se.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(L.jsxs)(Se.a.Label,{children:["College",Object(L.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(L.jsx)(Se.a.Control,{type:"text",name:"college",value:null===S||void 0===S?void 0:S.college,onChange:Q})]})})]}),Object(L.jsx)(k.a,{type:"submit",variant:"outline-primary",className:"saveBtn d-flex align-items-center",disabled:Y,children:Y?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(U.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\xa0 Saving ..."]}):Object(L.jsxs)(L.Fragment,{children:["Save Changes \xa0",Object(L.jsx)(Ee.a,{})]})})]})})})})]})]})},Re=function(){var e=Object(c.useState)(!0),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(o.c)(O),s=Object(g.h)(),i=Object(c.useState)({}),l=Object(f.a)(i,2),j=l[0],u=l[1],d=Object(c.useState)(!1),b=Object(f.a)(d,2),h=b[0],p=b[1],x=Object(c.useState)(!1),w=Object(f.a)(x,2),y=w[0],N=w[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(s.userid);case 2:t=e.sent,u(t),a(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s.userid,r,y]),n?Object(L.jsx)(we,{}):Object(L.jsxs)("div",{children:[Object(L.jsx)(Le,{updateProfile:h,setUpdateProfile:p,localUser:r}),Object(L.jsx)(S.a,{className:"mb-5",children:Object(L.jsxs)(ve.a,{className:"gy-4",children:[Object(L.jsx)(fe.a,{lg:4,children:Object(L.jsx)(Te,{userDetails:j,setReload:N})}),Object(L.jsx)(fe.a,{lg:8,children:Object(L.jsx)(De,{userDetails:j,setUpdateProfile:p})})]})})]})},ze=(n(178),function(e){var t,n,a=e.postDetails,r=e.getSinglePost,s=Object(o.c)(O),i=Object(c.useState)(""),l=Object(f.a)(i,2),j=l[0],u=l[1],d=Object(c.useState)(!1),b=Object(f.a)(d,2),h=b[0],p=b[1],x=Object(c.useState)(""),w=Object(f.a)(x,2),y=w[0],S=w[1],k=Object(c.useState)(""),C=Object(f.a)(k,2),I=C[0],P=C[1],F=Object(c.useState)(!1),D=Object(f.a)(F,2),B=D[0],T=D[1],E=Object(g.g)(),R=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),j){e.next=7;break}return S("Comment is required"),P("warning"),p(!0),T(!1),e.abrupt("return");case 7:return t={comment:j},e.next=10,oe(t,a._id,s._id);case 10:"scuccess"===e.sent?(u(""),r(),S("Comment Added"),P("success"),p(!0),T(!1)):(S("Something went wrong"),P("warning"),p(!0),T(!1));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(z,{open:h,setOpen:p,type:I,msg:y}),Object(L.jsxs)(N.a,{className:"",children:[Object(L.jsxs)(N.a.Header,{className:"bg-white commentArea shadow",children:[Object(L.jsx)(G.a,{src:null===s||void 0===s?void 0:s.profileImg}),Object(L.jsx)("input",{type:"text",value:j,onChange:function(e){return u(e.target.value)},className:"commentInput",placeholder:"Add a Comment",onKeyDown:function(e){"Enter"===e.key&&R()}}),Object(L.jsx)(ce.a,{onClick:R,children:B?Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(U.a,{as:"span",animation:"border",style:{borderWidth:"2px"},size:"sm",role:"status","aria-hidden":"true"})}):Object(L.jsx)(re.h,{})})]}),Object(L.jsx)(N.a.Body,{className:"py-0 ",style:{minHeight:"430px"},children:0===(null===a||void 0===a||null===(t=a.comments)||void 0===t?void 0:t.length)?Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("div",{className:"noComments",children:Object(L.jsx)("h2",{children:"No Comments Yet"})})}):null===a||void 0===a||null===(n=a.comments)||void 0===n?void 0:n.map((function(e,t){var n,c;return Object(L.jsxs)("div",{className:"allComments",children:[Object(L.jsxs)(ve.a,{children:[Object(L.jsx)(fe.a,{xs:2,style:{paddingRight:0},children:Object(L.jsx)(G.a,{src:null===e||void 0===e||null===(n=e.commentBy)||void 0===n?void 0:n.profileImg,onClick:function(){var t;return E("/profile/".concat(null===e||void 0===e||null===(t=e.commentBy)||void 0===t?void 0:t._id))},style:{cursor:"pointer"}})}),Object(L.jsx)(fe.a,{xs:10,style:{paddingLeft:0},children:Object(L.jsxs)("div",{className:"commentInfo",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("small",{className:"text-muted",onClick:function(){var t;return E("/profile/".concat(null===e||void 0===e||null===(t=e.commentBy)||void 0===t?void 0:t._id))},style:{cursor:"pointer"},children:null===e||void 0===e||null===(c=e.commentBy)||void 0===c?void 0:c.name}),Object(L.jsx)("span",{children:Object(L.jsx)("small",{className:"text-muted",children:ae(null===e||void 0===e?void 0:e.commentedAt)})})]}),Object(L.jsx)("p",{style:{marginBottom:"7px"},children:null===e||void 0===e?void 0:e.comment})]})})]}),Object(L.jsx)("hr",{style:{marginTop:0}})]},t)}))})]})]})}),Ue=function(){var e,t,n=Object(g.h)(),a=Object(g.g)(),r=Object(c.useState)([]),s=Object(f.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)(!0),j=Object(f.a)(l,2),u=j[0],d=j[1],b=Object(c.useCallback)(Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(n.postId);case 2:t=e.sent,i(t),d(!1);case 5:case"end":return e.stop()}}),e)}))),[n.postId]);return Object(c.useEffect)((function(){b()}),[b]),u?Object(L.jsx)(we,{}):Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(S.a,{className:"mb-5",children:Object(L.jsxs)(ve.a,{className:"gx-4 gy-5",children:[Object(L.jsx)(fe.a,{lg:7,children:Object(L.jsxs)(N.a,{children:[Object(L.jsxs)(N.a.Header,{className:"header bg-light",children:[Object(L.jsx)(ce.a,{color:"inherit",className:"iconButton",onClick:function(){var e;return a("/profile/".concat(null===o||void 0===o||null===(e=o.creator)||void 0===e?void 0:e._id))},children:Object(L.jsx)(G.a,{src:null===o||void 0===o||null===(e=o.creator)||void 0===e?void 0:e.profileImg})}),Object(L.jsxs)("div",{className:"headerInfo",children:[Object(L.jsx)("h6",{children:null===o||void 0===o||null===(t=o.creator)||void 0===t?void 0:t.name}),Object(L.jsx)("small",{children:ae(null===o||void 0===o?void 0:o.date)})]})]}),Object(L.jsx)(N.a.Img,{src:null===o||void 0===o?void 0:o.postImg,className:"postImg"}),Object(L.jsxs)(N.a.Body,{children:[null===o||void 0===o?void 0:o.description,Object(L.jsx)("hr",{}),Object(L.jsx)(xe,{postDetails:o,reloadFun:b})]})]})}),Object(L.jsx)(fe.a,{lg:5,className:"commentsCol",children:Object(L.jsx)(ze,{postDetails:o,getSinglePost:b})})]})})})},_e=function(){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(te,{}),Object(L.jsx)("div",{style:{paddingTop:"120px"},children:Object(L.jsxs)(g.d,{children:[Object(L.jsx)(g.b,{path:"/home",element:Object(L.jsx)(ye,{})}),Object(L.jsx)(g.b,{path:"/myPosts/:userId",element:Object(L.jsx)(Fe,{})}),Object(L.jsx)(g.b,{path:"/singlePost/:postId",element:Object(L.jsx)(Ue,{})}),Object(L.jsx)(g.b,{path:"/profile/:userid",element:Object(L.jsx)(Re,{})}),Object(L.jsx)(g.b,{path:"*",element:Object(L.jsx)(g.a,{to:"/home"})})]})})]})},Je=(n(179),function(){var e=Object(o.b)(),t=Object(o.c)(O),n=Object(c.useState)(!0),a=Object(f.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){var t=function(){var t=Object(v.a)(m.a.mark((function t(){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(n=localStorage.getItem("user"))){t.next=9;break}return t.next=5,P(JSON.parse(n));case 5:(c=t.sent)&&(e(d(c)),s(!1)),t.next=10;break;case 9:s(!1);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),r?Object(L.jsx)(we,{}):Object(L.jsx)(L.Fragment,{children:t?Object(L.jsx)(_e,{}):Object(L.jsx)(H,{})})});s.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(o.a,{store:p,children:Object(L.jsx)(i.a,{children:Object(L.jsx)(Je,{})})})}),document.getElementById("root"))},89:function(e,t,n){}},[[180,1,2]]]);
//# sourceMappingURL=main.7b72380a.chunk.js.map